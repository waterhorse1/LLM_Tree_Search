{
    "summary": "The code offers task explanation, examples, and format string for the 24 game, allowing players to reach 24 using given numbers with basic arithmetic operations. It also includes example inputs and possible next steps, while judging the correctness of user's answer.",
    "details": [
        {
            "comment": "This code defines a task description and examples for the 24 game, where a player must use numbers and basic arithmetic to reach 24 using only two remaining numbers in each step. The code provides an example prompt with four different inputs and their corresponding steps to achieve 24, along with a format string for the problem representation.",
            "location": "\"/media/root/Toshiba XG3/works/LLM_Tree_Search/docs/src/tsllm/envs/game24/prompt.py\":0-42",
            "content": "COT_TASK_DESC = \"\"\"Use numbers and basic arithmetic operations (+ - * /) to obtain 24. Each step, you are only allowed to choose two of the remaining numbers to obtain a new number.\"\"\"\n# 5-shot\nCOT_EXAMPLES = f\"\"\"Input: 4 4 6 8\nSteps:\n4 + 8 = 12 (left: 4 6 12)\n6 - 4 = 2 (left: 2 12)\n2 * 12 = 24 (left: 24)\nThe answer is (6 - 4) * (4 + 8) = 24\nInput: 2 9 10 12\nSteps:\n12 * 2 = 24 (left: 9 10 24)\n10 - 9 = 1 (left: 1 24)\n24 * 1 = 24 (left: 24)\nThe answer is (12 * 2) * (10 - 9) = 24\nInput: 4 9 10 13\nSteps:\n13 - 10 = 3 (left: 3 4 9)\n9 - 3 = 6 (left: 4 6)\n4 * 6 = 24 (left: 24)\nThe answer is 4 * (9 - (13 - 10)) = 24\nInput: 1 4 8 8\nSteps:\n8 / 4 = 2 (left: 1 2 8)\n1 + 2 = 3 (left: 3 8)\n3 * 8 = 24 (left: 24)\nThe answer is (1 + 8 / 4) * 8 = 24\nInput: 5 5 5 9\nSteps:\n5 + 5 = 10 (left: 5 9 10)\n10 + 5 = 15 (left: 9 15)\n15 + 9 = 24 (left: 24)\nThe answer is ((5 + 5) + 5) + 9 = 24\"\"\"\nPROBLEM_FORMAT_STR = \"Input: {question}\\nSteps:\"\nSEP = \"\\n\"\n# 5-shot\nstandard_task_desc = (\n    \"\"\"Use numbers and basic arithmetic operations (+ - * /) to obtain 24.\"\"\""
        },
        {
            "comment": "The code contains example inputs and possible next steps for solving the game \"24\", which involves combining given numbers to reach 24. The VALUE_PROMPT variable suggests whether the current set of numbers can reach 24 or not based on possible combinations.",
            "location": "\"/media/root/Toshiba XG3/works/LLM_Tree_Search/docs/src/tsllm/envs/game24/prompt.py\":43-91",
            "content": ")\nstandard_5shot_examples = f\"\"\"Input: 4 4 6 8\nThe answer is (4 + 8) * (6 - 4) = 24\nInput: 2 9 10 12\nThe answer is 2 * 12 * (10 - 9) = 24\nInput: 4 9 10 13\nThe answer is (13 - 9) * (10 - 4) = 24\nInput: 1 4 8 8\nThe answer is (8 / 4 + 1) * 8 = 24\nInput: 5 5 5 9\nThe answer is 5 + 5 + 5 + 9 = 24\n\"\"\"\n# # 1-shot\n# propose_prompt = '''Input: 2 8 8 14\n# Possible next steps:\n# 2 + 8 = 10 (left: 8 10 14)\n# 8 / 2 = 4 (left: 4 8 14)\n# 14 + 2 = 16 (left: 8 8 16)\n# 2 * 8 = 16 (left: 8 14 16)\n# 8 - 2 = 6 (left: 6 8 14)\n# 14 - 8 = 6 (left: 2 6 8)\n# 14 /  2 = 7 (left: 7 8 8)\n# 14 - 2 = 12 (left: 8 8 12)\n# Input: {input}\n# Possible next steps:\n# '''\nVALUE_PROMPT = \"\"\"Evaluate if given numbers can reach 24 (sure/likely/impossible)\n10 14\n10 + 14 = 24\nsure\n11 12\n11 + 12 = 23\n12 - 11 = 1\n11 * 12 = 132\n11 / 12 = 0.91\nimpossible\n4 4 10\n4 + 4 + 10 = 8 + 10 = 18\n4 * 10 - 4 = 40 - 4 = 36\n(10 - 4) * 4 = 6 * 4 = 24\nsure\n4 9 11\n9 + 11 + 4 = 20 + 4 = 24\nsure\n5 7 8\n5 + 7 + 8 = 12 + 8 = 20\n(8 - 5) * 7 = 3 * 7 = 21\nI cannot obtain 24 now, but numbers are within a reasonable range"
        },
        {
            "comment": "This code provides a prompt for the user to use basic arithmetic operations (+, -, *, /) to obtain 24 using given inputs. It then judges whether the answer is correct (sure) or impossible based on the given input and answer.",
            "location": "\"/media/root/Toshiba XG3/works/LLM_Tree_Search/docs/src/tsllm/envs/game24/prompt.py\":92-138",
            "content": "likely\n5 6 6\n5 + 6 + 6 = 17\n(6 - 5) * 6 = 1 * 6 = 6\nI cannot obtain 24 now, but numbers are within a reasonable range\nlikely\n10 10 11\n10 + 10 + 11 = 31\n(11 - 10) * 10 = 10\n10 10 10 are all too big\nimpossible\n1 3 3\n1 * 3 * 3 = 9\n(1 + 3) * 3 = 12\n1 3 3 are all too small\nimpossible\n{input}\n\"\"\"\nVALUE_LAST_STEP_PROMPT = \"\"\"Use numbers and basic arithmetic operations (+ - * /) to obtain 24. Given an input and an answer, give a judgement (sure/impossible) if the answer is correct, i.e. it uses each input exactly once and no other numbers, and reach 24.\nInput: 4 4 6 8\nThe answer is (4 + 8) * (6 - 4) = 24\nJudge:\nsure\nInput: 2 9 10 12\nThe answer is 2 * 12 * (10 - 9) = 24\nJudge:\nsure\nInput: 4 9 10 13\nThe answer is (13 - 9) * (10 - 4) = 24\nJudge:\nsure\nInput: 4 4 6 8\nThe answer is (4 + 8) * (6 - 4) + 1 = 25\nJudge:\nimpossible\nInput: 2 9 10 12\nThe answer is 2 * (12 - 10) = 24\nJudge:\nimpossible\nInput: 4 9 10 13\nThe answer is (13 - 4) * (10 - 9) = 24\nJudge:\nimpossible\nInput: {input}\nThe answer is {answer}\nJudge:\"\"\""
        }
    ]
}